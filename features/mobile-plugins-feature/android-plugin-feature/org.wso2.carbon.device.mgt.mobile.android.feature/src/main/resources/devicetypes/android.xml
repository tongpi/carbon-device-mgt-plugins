<?xml version="1.0" encoding="utf-8"?>

<!--
  ~ Copyright (c) 2016, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~ WSO2 Inc. licenses this file to you under the Apache License,
  ~ Version 2.0 (the "License"); you may not use this file except
  ~ in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied. See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->
<DeviceTypeConfiguration name="android">

    <DeviceDetails table-id="AD_DEVICE"/>

    <License>
        <Language>en_US</Language>
        <Version>1.0.0</Version>
        <Text>This End User License Agreement ("Agreement") is a legal agreement between you ("You") and WSO2,
            Inc., regarding the enrollment of Your personal mobile device ("Device") in SoR's mobile device
            management program, and the loading to and removal from Your Device and Your use of certain
            applications and any associated software and user documentation, whether provided in "online" or
            electronic format, used in connection with the operation of or provision of services to WSO2,
            Inc., BY SELECTING "I ACCEPT" DURING INSTALLATION, YOU ARE ENROLLING YOUR DEVICE, AND THEREBY
            AUTHORIZING SOR OR ITS AGENTS TO INSTALL, UPDATE AND REMOVE THE APPS FROM YOUR DEVICE AS DESCRIBED
            IN THIS AGREEMENT. YOU ARE ALSO EXPLICITLY ACKNOWLEDGING AND AGREEING THAT (1) THIS IS A BINDING
            CONTRACT AND (2) YOU HAVE READ AND AGREE TO THE TERMS OF THIS AGREEMENT.

            IF YOU DO NOT ACCEPT THESE TERMS, DO NOT ENROLL YOUR DEVICE AND DO NOT PROCEED ANY FURTHER.

            You agree that: (1) You understand and agree to be bound by the terms and conditions contained in
            this Agreement, and (2) You are at least 21 years old and have the legal capacity to enter into
            this Agreement as defined by the laws of Your jurisdiction. SoR shall have the right, without
            prior notice, to terminate or suspend (i) this Agreement, (ii) the enrollment of Your Device, or
            (iii) the functioning of the Apps in the event of a violation of this Agreement or the cessation
            of Your relationship with SoR (including termination of Your employment if You are an employee or
            expiration or termination of Your applicable franchise or supply agreement if You are a franchisee
            of or supplier to the WSO2 WSO2, Inc., system). SoR expressly reserves all rights not expressly
            granted herein.
        </Text>
    </License>

    <ProvisioningConfig>
        <SharedWithAllTenants>true</SharedWithAllTenants>
    </ProvisioningConfig>
    <!--
    isScheduled element used to enable scheduler task to send push notification.
    Task will send push notification as batches. So this will reduce sudden request burst when many devices try to
    access server after receiving push notification.
    -->
    <!--Configuration for enable firebase push notifications-->
    <!--<PushNotificationProviderConfig type="FCM" isScheduled="false">-->
    <!--</PushNotificationProviderConfig>-->

    <DataSource>
        <JndiConfig>
            <Name>jdbc/MobileAndroidDM_DS</Name>
        </JndiConfig>
        <TableConfig>
            <Table name="AD_DEVICE">
                <PrimaryKey>DEVICE_ID</PrimaryKey>
                <Attributes>
                    <Attribute>FCM_TOKEN</Attribute>
                    <Attribute>DEVICE_INFO</Attribute>
                    <Attribute>IMEI</Attribute>
                    <Attribute>IMSI</Attribute>
                    <Attribute>OS_VERSION</Attribute>
                    <Attribute>DEVICE_MODEL</Attribute>
                    <Attribute>VENDOR</Attribute>
                    <Attribute>LATITUDE</Attribute>
                    <Attribute>LONGITUDE</Attribute>
                    <Attribute>SERIAL</Attribute>
                    <Attribute>MAC_ADDRESS</Attribute>
                    <Attribute>DEVICE_NAME</Attribute>
                    <Attribute>OS_BUILD_DATE</Attribute>
                </Attributes>
            </Table>
        </TableConfig>
    </DataSource>

    <Features>
        <Feature code="DEVICE_RING">
            <Name>拨打电话</Name>
            <Description>拨打电话</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/ring" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="DEVICE_LOCK">
            <Name>设备锁</Name>
            <Description>设备锁</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/lock-devices" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="DEVICE_LOCATION">
            <Name>位置</Name>
            <Description>设备位置的请求坐标</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/location" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="CLEAR_PASSWORD">
            <Name>清除密码</Name>
            <Description>清除当前密码(此功能仅用于从Android7.0API 24开始的配置文件所有者)。</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/clear-password" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="DEVICE_REBOOT">
            <Name>重启</Name>
            <Description>重启设备</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/reboot" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="UPGRADE_FIRMWARE">
            <Name>升级固件</Name>
            <Description>升级固件</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/upgrade-firmware" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="DEVICE_MUTE">
            <Name>静音</Name>
            <Description>启用设备静音</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/mute" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="NOTIFICATION">
            <Name>短信</Name>
            <Description>发送短信</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/send-notification" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="CHANGE_LOCK_CODE">
            <Name>更改锁码</Name>
            <Description>更改当前锁码（此功能仅适用于Android 7.0 API 24以后的配置文件所有者。）</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/change-lock-code" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="FILE_TRANSFER">
            <Name>文件传输</Name>
            <Description>传输文件到设备</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/file-transfer" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="ENTERPRISE_WIPE">
            <Name>企业擦除</Name>
            <Description>删除企业应用程序</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/enterprise-wipe" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="WIPE_DATA">
            <Name>清除数据</Name>
            <Description>恢复出厂设置</Description>
            <Operation context="/api/device-mgt/android/v1.0/admin/devices/wipe" method="POST" type="application/json">
            </Operation>
        </Feature>
        <Feature code="WIFI">
            <Name>Wifi</Name>
            <Description>设置 wifi 配置</Description>
        </Feature>
        <Feature code="CAMERA">
            <Name>相机</Name>
            <Description>启用或禁用照相机</Description>
        </Feature>
        <Feature code="EMAIL">
            <Name>电子邮件</Name>
            <Description>配置电子邮件设置</Description>
        </Feature>
        <Feature code="DEVICE_INFO">
            <Name>设备信息</Name>
            <Description>请求设备信息</Description>
        </Feature>
        <Feature code="APPLICATION_LIST">
            <Name>应用程序列表</Name>
            <Description>请求当前已安装应用程序列表</Description>
        </Feature>
        <Feature code="INSTALL_APPLICATION">
            <Name>安装应用程序</Name>
            <Description>安装应用程序</Description>
        </Feature>
        <Feature code="UNINSTALL_APPLICATION">
            <Name>卸载应用程序</Name>
            <Description>卸载应用程序</Description>
        </Feature>
        <Feature code="BLACKLIST_APPLICATIONS">
            <Name>黑名单应用程序</Name>
            <Description>黑名单应用程序</Description>
        </Feature>
        <Feature code="ENCRYPT_STORAGE">
            <Name>加密存储</Name>
            <Description>加密存储</Description>
        </Feature>
        <Feature code="PASSCODE_POLICY">
            <Name>密码策略</Name>
            <Description>设置密码策略</Description>
        </Feature>
        <Feature code="VPN">
            <Name>VPN 配置</Name>
            <Description>设置 VPN 配置</Description>
        </Feature>
        <Feature code="DISALLOW_ADJUST_VOLUME">
            <Name>不允许用户更改卷</Name>
            <Description>允许或不允许用户更改卷</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_BLUETOOTH">
            <Name>不允许蓝牙配置</Name>
            <Description>允许或不允许蓝牙配置</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_CELL_BROADCASTS">
            <Name>不允许用户更改单元广播配置</Name>
            <Description>允许或不允许用户更改单元格广播配置</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_CREDENTIALS">
            <Name>不允许用户更改用户凭据</Name>
            <Description>允许或不允许用户更改用户凭据</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_MOBILE_NETWORKS">
            <Name>不允许用户更改移动网络配置</Name>
            <Description>允许或不允许用户更改移动网络配置</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_TETHERING">
            <Name>禁止用户更改绑定配置</Name>
            <Description>允许或不允许用户更改绑定配置</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_VPN">
            <Name>不允许用户更改VPN配置</Name>
            <Description>允许或不允许用户更改VPN配置</Description>
        </Feature>
        <Feature code="DISALLOW_CONFIG_WIFI">
            <Name>不允许用户更改wifi配置</Name>
            <Description>允许或不允许用户更改wifi配置</Description>
        </Feature>
        <Feature code="DISALLOW_APPS_CONTROL">
            <Name>不允许用户更改应用程序控件</Name>
            <Description>允许或不允许用户更改应用程序控件</Description>
        </Feature>
        <Feature code="DISALLOW_CREATE_WINDOWS">
            <Name>不允许窗口创建</Name>
            <Description>允许或不允许创建窗口</Description>
        </Feature>
        <Feature code="DISALLOW_APPS_CONTROL">
            <Name>不允许用户更改应用程序控制配置</Name>
            <Description>允许或不允许用户更改应用程序控件配置</Description>
        </Feature>
        <Feature code="DISALLOW_CROSS_PROFILE_COPY_PASTE">
            <Name>不允许交叉剖面复制粘贴</Name>
            <Description>允许或不允许交叉配置文件复制粘贴</Description>
        </Feature>
        <Feature code="DISALLOW_DEBUGGING_FEATURES">
            <Name>不允许调试特性</Name>
            <Description>允许或不允许调试功能</Description>
        </Feature>
        <Feature code="DISALLOW_FACTORY_RESET">
            <Name>不允许恢复出厂设置</Name>
            <Description>允许或不允许恢复出厂设置</Description>
        </Feature>
        <Feature code="DISALLOW_ADD_USER">
            <Name>不允许添加用户</Name>
            <Description>允许或不允许添加用户</Description>
        </Feature>
        <Feature code="DISALLOW_INSTALL_APPS">
            <Name>不允许安装应用程序</Name>
            <Description>允许或不允许安装应用程序</Description>
        </Feature>
        <Feature code="DISALLOW_INSTALL_UNKNOWN_SOURCES">
            <Name>不允许安装未知源</Name>
            <Description>允许或不允许安装未知源</Description>
        </Feature>
        <Feature code="DISALLOW_MODIFY_ACCOUNTS">
            <Name>不允许修改帐户</Name>
            <Description>允许或不允许修改帐户</Description>
        </Feature>
        <Feature code="DISALLOW_MOUNT_PHYSICAL_MEDIA">
            <Name>不允许装入物理媒体</Name>
            <Description>允许或不允许装入物理媒体</Description>
        </Feature>
        <Feature code="DISALLOW_NETWORK_RESET">
            <Name>不允许网络重置</Name>
            <Description>允许或不允许网络重置</Description>
        </Feature>
        <Feature code="DISALLOW_OUTGOING_BEAM">
            <Name>禁止输出光束</Name>
            <Description>允许或禁止输出光束</Description>
        </Feature>
        <Feature code="DISALLOW_OUTGOING_CALLS">
            <Name>禁止拨打电话</Name>
            <Description>允许或禁止拨打电话</Description>
        </Feature>
        <Feature code="DISALLOW_REMOVE_USER">
            <Name>禁止删除用户</Name>
            <Description>允许或禁止删除用户</Description>
        </Feature>
        <Feature code="DISALLOW_SAFE_BOOT">
            <Name>禁止安全启动</Name>
            <Description>允许或禁止安全启动</Description>
        </Feature>
        <Feature code="DISALLOW_SHARE_LOCATION">
            <Name>禁止共享位置</Name>
            <Description>允许或禁止共享位置</Description>
        </Feature>
        <Feature code="DISALLOW_SMS">
            <Name>禁止短信</Name>
            <Description>允许或禁止短信</Description>
        </Feature>
        <Feature code="DISALLOW_UNINSTALL_APPS">
            <Name>禁止卸载应用</Name>
            <Description>允许或禁止卸载应用</Description>
        </Feature>
        <Feature code="DISALLOW_UNMUTE_MICROPHONE">
            <Name>禁止取消静音麦克风</Name>
            <Description>允许或禁止取消静音麦克风</Description>
        </Feature>
        <Feature code="DISALLOW_USB_FILE_TRANSFER">
            <Name>禁止usb文件传输</Name>
            <Description>允许或禁止usb文件传输</Description>
        </Feature>
        <Feature code="ALLOW_PARENT_PROFILE_APP_LINKING">
            <Name>禁止父配置文件应用链接</Name>
            <Description>允许或禁止父配置文件应用程序链接</Description>
        </Feature>
        <Feature code="ENSURE_VERIFY_APPS">
            <Name>不允许确认验证应用程序</Name>
            <Description>允许或禁止确认验证应用程序</Description>
        </Feature>
        <Feature code="AUTO_TIME">
            <Name>不允许自动定时</Name>
            <Description>允许或不允许自动定时</Description>
        </Feature>
        <Feature code="REMOVE_DEVICE_OWNER">
            <Name>移除设备所有者</Name>
            <Description>移除设备所有者</Description>
        </Feature>
        <Feature code="LOGCAT">
            <Name>获取设备日志</Name>
            <Description>获取设备日志</Description>
        </Feature>
        <Feature code="DEVICE_UNLOCK">
            <Name>解锁设备</Name>
            <Description>解锁设备</Description>
        </Feature>
    </Features>
    <TaskConfiguration>
        <Enable>true</Enable>
        <Frequency>60000</Frequency>
        <Operations>
            <Operation>
                <Name>DEVICE_INFO</Name>
                <RecurrentTimes>1</RecurrentTimes>
            </Operation>
            <Operation>
                <Name>APPLICATION_LIST</Name>
                <RecurrentTimes>5</RecurrentTimes>
            </Operation>
            <Operation>
                <Name>DEVICE_LOCATION</Name>
                <RecurrentTimes>1</RecurrentTimes>
            </Operation>
        </Operations>
    </TaskConfiguration>
	<PolicyMonitoring enabled="true"/>
    <InitialOperationConfig>
            <Operation>DEVICE_INFO</Operation>
            <Operation>APPLICATION_LIST</Operation>
            <Operation>DEVICE_LOCATION</Operation>
    </InitialOperationConfig>
    <!--This configures the Task service for the android device-type. Given below are the property definitions.
        <RequireStatusMonitoring> - This will enable or disable status monitoring for that particular device-type.
        <Frequency> - The time interval (in seconds) in which the task should run for this device-type
        <IdleTimeToMarkInactive> - The time duration (in seconds) in which the device can be moved to inactive status
                                   which means the device will be moved to inactive status if that device does not
                                   contact the server within that time period. Better to have a multiplier of Frequency.
        <IdleTimeToMarkUnreachable> - The time duration (in seconds) in which the device can be moved to unreachable status
                                      which means the device will be moved to unreachable status if that device does not
                                      contact the server within that time period. Better to have a multiplier of Frequency.
    -->
    <DeviceStatusTaskConfig>
        <RequireStatusMonitoring>true</RequireStatusMonitoring>
        <Frequency>300</Frequency>
        <IdleTimeToMarkInactive>900</IdleTimeToMarkInactive>
        <IdleTimeToMarkUnreachable>600</IdleTimeToMarkUnreachable>
    </DeviceStatusTaskConfig>
</DeviceTypeConfiguration>
